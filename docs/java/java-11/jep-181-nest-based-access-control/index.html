<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><title>JEP 181: Nest-Based Access Control - Quickhacks</title><link rel="shortcut icon" href="https://albertattard.github.io/quickhacks/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="https://albertattard.github.io/quickhacks/assets/css/quickhacks.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=G-PE3DWJG4PK"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', "G-PE3DWJG4PK"); </script> <script type="text/javascript" src="https://albertattard.github.io/quickhacks/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="https://albertattard.github.io/quickhacks/assets/js/quickhacks.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>JEP 181: Nest-Based Access Control | Quickhacks</title><meta name="generator" content="Jekyll v4.0.1" /><meta property="og:title" content="JEP 181: Nest-Based Access Control" /><meta property="og:locale" content="en_US" /><meta name="description" content="Quickhacks" /><meta property="og:description" content="Quickhacks" /><link rel="canonical" href="https://albertattard.github.io/quickhacks/docs/java/java-11/jep-181-nest-based-access-control/" /><meta property="og:url" content="https://albertattard.github.io/quickhacks/docs/java/java-11/jep-181-nest-based-access-control/" /><meta property="og:site_name" content="Quickhacks" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="JEP 181: Nest-Based Access Control" /> <script type="application/ld+json"> {"description":"Quickhacks","@type":"WebPage","headline":"JEP 181: Nest-Based Access Control","url":"https://albertattard.github.io/quickhacks/docs/java/java-11/jep-181-nest-based-access-control/","@context":"https://schema.org"}</script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="link" viewBox="0 0 16 16"><title>Link</title><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path> </symbol> </svg><div class="page-wrap"><div class="side-bar"><div class="site-header"> <a href="https://albertattard.github.io/quickhacks/" class="site-title lh-tight"> Quickhacks </a> <button class="menu-button fs-3 js-main-nav-trigger" data-text-toggle="Hide" type="button">Menu</button></div><div class="navigation main-nav js-main-nav"><nav role="navigation" aria-label="Main navigation"><ul class="navigation-list"><li class="navigation-list-item"><a href="https://albertattard.github.io/quickhacks/docs/aws/" class="navigation-list-link">AWS</a><ul class="navigation-list-child-list "><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/aws/cli/" class="navigation-list-link">CLI (AWS)</a><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/aws/terraform/" class="navigation-list-link">Terraform (AWS)</a></ul><li class="navigation-list-item"><a href="https://albertattard.github.io/quickhacks/docs/azure/" class="navigation-list-link">Azure</a><ul class="navigation-list-child-list "><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/azure/cli/" class="navigation-list-link">CLI (Azure)</a><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/azure/terraform/" class="navigation-list-link">Terraform (Azure)</a></ul><li class="navigation-list-item"><a href="https://albertattard.github.io/quickhacks/docs/docker/" class="navigation-list-link">Docker</a><ul class="navigation-list-child-list "><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/docker/cassandra/" class="navigation-list-link">Cassandra</a><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/docker/jupyter/" class="navigation-list-link">Jupyter</a><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/docker/postgresql/" class="navigation-list-link">PostgreSQL</a></ul><li class="navigation-list-item"><a href="https://albertattard.github.io/quickhacks/docs/git/" class="navigation-list-link">Git</a><ul class="navigation-list-child-list "><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/git/change-last-commit-message/" class="navigation-list-link">Change Last Commit Message</a><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/git/ignore-uncommitted-changes-to-file/" class="navigation-list-link">Ignore Uncommitted Changes to File</a><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/git/rename-the-current-branch/" class="navigation-list-link">Rename the Current Branch</a></ul><li class="navigation-list-item"><a href="https://albertattard.github.io/quickhacks/docs/gradle/" class="navigation-list-link">Gradle</a><ul class="navigation-list-child-list "><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/gradle/error-prone/" class="navigation-list-link">Error Prone</a><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/gradle/gradlew/" class="navigation-list-link">Gradle Wrapper</a><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/gradle/task-dependencies/" class="navigation-list-link">Task Dependencies</a></ul><li class="navigation-list-item active"><a href="https://albertattard.github.io/quickhacks/docs/java/" class="navigation-list-link">Java</a><ul class="navigation-list-child-list "><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/java/apache-poi/" class="navigation-list-link">Apache POI</a><li class="navigation-list-item active"> <a href="https://albertattard.github.io/quickhacks/docs/java/java-11/" class="navigation-list-link">Java 11</a><ul class="navigation-list-child-list"><li class="navigation-list-item active"> <a href="https://albertattard.github.io/quickhacks/docs/java/java-11/jep-181-nest-based-access-control/" class="navigation-list-link active">JEP 181: Nest-Based Access Control</a><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/java/java-11/jep-321-http-client/" class="navigation-list-link">JEP 321: HTTP Client</a><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/java/java-11/jep-330-launch-single-file-source-code-programs/" class="navigation-list-link">JEP 330: Launch Single-File Source-Code Programs</a></ul><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/java/sdkman/" class="navigation-list-link">Setup environment (SDKMAN)</a></ul><li class="navigation-list-item"><a href="https://albertattard.github.io/quickhacks/docs/spring/" class="navigation-list-link">Spring</a><ul class="navigation-list-child-list "><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/spring/web/" class="navigation-list-link">Web</a></ul><li class="navigation-list-item"><a href="https://albertattard.github.io/quickhacks/docs/vue/" class="navigation-list-link">Vue</a><ul class="navigation-list-child-list "><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/vue/binding-attributes/" class="navigation-list-link">Binding Attributes (v-bind)</a><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/vue/binding-class/" class="navigation-list-link">Binding Class (v-bind)</a><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/vue/binding-style/" class="navigation-list-link">Binding Style (v-bind)</a><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/vue/components-and-nested-components/" class="navigation-list-link">Components and Nested Components</a><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/vue/computed-properties/" class="navigation-list-link">Computed Properties</a><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/vue/create-app/" class="navigation-list-link">Create and Mount Vue Application</a><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/vue/emit-events/" class="navigation-list-link">Emit Events</a><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/vue/for-loop/" class="navigation-list-link">For Loop (v-for)</a><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/vue/forms-and-v-model/" class="navigation-list-link">Forms and v-model</a><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/vue/html/" class="navigation-list-link">HTML (v-html)</a><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/vue/if-else-ladder/" class="navigation-list-link">If-Else Ladder (v-if)</a><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/vue/on-click/" class="navigation-list-link">On Click (v-on:click)</a><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/vue/on-input/" class="navigation-list-link">On Input (v-on:input)</a><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/vue/on-mouseover/" class="navigation-list-link">On Mouseover (v-on:mouseover)</a><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/vue/show/" class="navigation-list-link">Show (v-show)</a><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/vue/testing/" class="navigation-list-link">Testing (Vue)</a></ul><li class="navigation-list-item"><a href="https://albertattard.github.io/quickhacks/docs/unsorted/" class="navigation-list-link">Unsorted</a><ul class="navigation-list-child-list "><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/unsorted/hyrums-law/" class="navigation-list-link">Hyrum's Law</a><li class="navigation-list-item "> <a href="https://albertattard.github.io/quickhacks/docs/unsorted/leblancs-law/" class="navigation-list-link">LeBlanc's Law</a></ul></ul></nav></div><footer class="site-footer"><p class="text-small text-grey-dk-000"><a href="https://plugins.gradle.org/search?term=" target="_blank">Gradle Plugins</a></p><p class="text-small text-grey-dk-000"><a href="https://mvnrepository.com/" target="_blank">Maven repository</a></p><p class="text-small text-grey-dk-000"><a href="https://hub.docker.com/search?type=image" target="_blank">Docker Hub</a></p></footer></div><div class="main-content-wrap js-main-content" tabindex="0"><div class="main-content"><div class="page-header js-page-header"><div class="search"><div class="search-input-wrap"> <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search Quickhacks" aria-label="Search Quickhacks" autocomplete="off"> <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg></div><div class="js-search-results search-results-wrap"></div></div><ul class="list-style-none text-small aux-nav"><li class="d-inline-block my-0"><a href="https://github.com/albertattard/quickhacks-source">Quickhacks on GitHub</a></ul></div><div class="page"><nav class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="https://albertattard.github.io/quickhacks/docs/java/">Java</a><li class="breadcrumb-nav-list-item"><a href="">Java 11</a><li class="breadcrumb-nav-list-item"><span>JEP 181: Nest-Based Access Control</span></ol></nav><div id="main-content" class="page-content" role="main"><h1 id="jep-181-nest-based-access-control"> <a href="#jep-181-nest-based-access-control" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> JEP 181: Nest-Based Access Control</h1><p>Java 11 introduced Nest-Based Access Control (<a href="https://openjdk.java.net/jeps/181" target="_blank">JEP-181</a>), an access-control context that aligns with the existing notion of nested types in the Java programming language. Nests allow classes that are logically part of the same code entity (source file), but which are compiled to distinct class files, to access each other’s private members without the need for compilers to insert accessibility-broadening bridge methods.</p><hr /><h2 id="file-srcmainjavaquickhackmainjava"> <a href="#file-srcmainjavaquickhackmainjava" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> File: <code class="highlighter-rouge">src/main/java/quickhack/Main.java</code></h2><figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">quickhack</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.lang.reflect.Field</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">NestedClass</span> <span class="o">{</span>
        <span class="kd">private</span> <span class="nc">String</span> <span class="n">privateField</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="kd">final</span> <span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">NoSuchFieldException</span><span class="o">,</span> <span class="nc">IllegalAccessException</span> <span class="o">{</span>
        <span class="n">printJavaVersion</span><span class="o">();</span>

        <span class="kd">final</span> <span class="nc">NestedClass</span> <span class="n">object</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">NestedClass</span><span class="o">();</span>
        <span class="n">object</span><span class="o">.</span><span class="na">privateField</span> <span class="o">=</span> <span class="s">"Accessing the field directly"</span><span class="o">;</span>
        <span class="n">printFieldValue</span><span class="o">(</span><span class="n">object</span><span class="o">);</span>

        <span class="kd">final</span> <span class="nc">Field</span> <span class="n">field</span> <span class="o">=</span> <span class="nc">NestedClass</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getDeclaredField</span><span class="o">(</span><span class="s">"privateField"</span><span class="o">);</span>
        <span class="n">field</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">object</span><span class="o">,</span> <span class="s">"Accessing the field using reflection"</span><span class="o">);</span> <span class="cm">/* Fails with versions prior to Java 11 */</span>
        <span class="n">printFieldValue</span><span class="o">(</span><span class="n">object</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">printFieldValue</span><span class="o">(</span><span class="nc">NestedClass</span> <span class="n">object</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"The field value is: %s%n"</span><span class="o">,</span> <span class="n">object</span><span class="o">.</span><span class="na">privateField</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">printJavaVersion</span><span class="o">()</span> <span class="o">{</span>
        <span class="kd">final</span> <span class="nc">String</span> <span class="n">version</span> <span class="o">=</span> <span class="nc">System</span><span class="o">.</span><span class="na">getProperty</span><span class="o">(</span><span class="s">"java.version"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"Java version is: %s%n"</span><span class="o">,</span> <span class="n">version</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure><h2 id="compile-and-run-with-java-8"> <a href="#compile-and-run-with-java-8" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Compile and run with Java 8</h2><p>Java 9 and 10 were not available on sdkman at the time of writing and had to use Java 8. Please refer to the <a href="https://albertattard.github.io/quickhacks/docs/java/sdkman/">Setup environment (SDKMAN)</a> for more information about how to set up multiple versions of java and set aliases to quickly switch between different versions.</p><div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>java8 <span class="o">&amp;&amp;</span> ./gradlew clean run
</code></pre></div></div><p>The program fails with an <code class="highlighter-rouge">IllegalAccessException</code>.</p><div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">Java version is: 1.8.0_292
The field value is: Accessing the field directly
</span><span class="gp">Exception in thread "main" java.lang.IllegalAccessException: Class quickhack.Main can not access a member of class quickhack.Main$</span>NestedClass with modifiers <span class="s2">"private"</span>
<span class="go">        at sun.reflect.Reflection.ensureMemberAccess(Reflection.java:102)
        at java.lang.reflect.AccessibleObject.slowCheckMemberAccess(AccessibleObject.java:296)
        at java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:288)
        at java.lang.reflect.Field.set(Field.java:761)
        at quickhack.Main.main(Main.java:19)
</span></code></pre></div></div><h2 id="compile-and-run-with-java-11"> <a href="#compile-and-run-with-java-11" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Compile and run with Java 11</h2><div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>java11 <span class="o">&amp;&amp;</span> ./gradlew clean run
</code></pre></div></div><p>The same code works with Java 11</p><div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">Java version is: 11.0.10
The field value is: Accessing the field directly
The field value is: Accessing the field using reflection
</span></code></pre></div></div><h2 id="how-does-it-work-when-accessed-directly"> <a href="#how-does-it-work-when-accessed-directly" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> How does it work when accessed directly?</h2><p>The Java compilers (before Java 11) create an inner anonymous class, <code class="highlighter-rouge">Main$1.class</code>, that enables access to the nested class’s private fields.</p><div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>java8 <span class="o">&amp;&amp;</span> ./gradlew clean compileJava
<span class="gp">$</span><span class="w"> </span><span class="nb">ls</span> <span class="nt">-la</span> build/classes/java/main/quickhack
<span class="go">total 24
drwxr-xr-x  5 albertattard  staff   160 May  6 12:34 .
drwxr-xr-x  3 albertattard  staff    96 May  6 12:34 ..
</span><span class="gp">-rw-r--r--  1 albertattard  staff   180 May  6 12:34 Main$</span>1.class
<span class="gp">-rw-r--r--  1 albertattard  staff   841 May  6 12:34 Main$</span>NestedClass.class
<span class="go">-rw-r--r--  1 albertattard  staff  1826 May  6 12:34 Main.class
</span></code></pre></div></div><p>This is not required since Java 11</p><div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>java11 <span class="o">&amp;&amp;</span> ./gradlew clean compileJava
<span class="gp">$</span><span class="w"> </span><span class="nb">ls</span> <span class="nt">-la</span> build/classes/java/main/quickhack
<span class="go">total 24
drwxr-xr-x  5 albertattard  staff   160 May  6 12:34 .
drwxr-xr-x  3 albertattard  staff    96 May  6 12:34 ..
</span><span class="gp">-rw-r--r--  1 albertattard  staff   841 May  6 12:34 Main$</span>NestedClass.class
<span class="go">-rw-r--r--  1 albertattard  staff  1826 May  6 12:34 Main.class
</span></code></pre></div></div><p>Following is the bytecode of the respective builds.</p><ul><li><p>Java 8 Bytecode</p><div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>javap <span class="nt">-c</span> build/classes/java/main/quickhack/Main.class
<span class="go">  
Compiled from "Main.java"
public class quickhack.Main {
</span><span class="gp">public quickhack.Main();</span><span class="w">
</span><span class="go">Code:
0: aload_0
</span><span class="gp">1: invokespecial #</span>1                  // Method java/lang/Object.<span class="s2">"&lt;init&gt;"</span>:<span class="o">()</span>V
<span class="go">4: return
  
</span><span class="gp">public static void main(java.lang.String[]) throws java.lang.NoSuchFieldException, java.lang.IllegalAccessException;</span><span class="w">
</span><span class="go">Code:
</span><span class="gp">0: invokestatic  #</span>2                  // Method printJavaVersion:<span class="o">()</span>V
<span class="gp">3: new           #</span>3                  // class quickhack/Main<span class="nv">$NestedClass</span>
<span class="go">6: dup
7: aconst_null
</span><span class="gp">8: invokespecial #</span>4                  // Method quickhack/Main<span class="nv">$NestedClass</span>.<span class="s2">"&lt;init&gt;"</span>:<span class="o">(</span>Lquickhack/Main<span class="nv">$1</span><span class="p">;</span><span class="o">)</span>V
<span class="go">11: astore_1
12: aload_1
</span><span class="gp">13: ldc           #</span>5                  // String Accessing the field directly
<span class="gp">15: invokestatic  #</span>6                  // Method quickhack/Main<span class="nv">$NestedClass</span>.access<span class="nv">$102</span>:<span class="o">(</span>Lquickhack/Main<span class="nv">$NestedClass</span><span class="p">;</span>Ljava/lang/String<span class="p">;</span><span class="o">)</span>Ljava/lang/String<span class="p">;</span>
<span class="go">18: pop
19: aload_1
</span><span class="gp">20: invokestatic  #</span>7                  // Method printFieldValue:<span class="o">(</span>Lquickhack/Main<span class="nv">$NestedClass</span><span class="p">;</span><span class="o">)</span>V
<span class="gp">23: ldc           #</span>3                  // class quickhack/Main<span class="nv">$NestedClass</span>
<span class="gp">25: ldc           #</span>8                  // String privateField
<span class="gp">27: invokevirtual #</span>9                  // Method java/lang/Class.getDeclaredField:<span class="o">(</span>Ljava/lang/String<span class="p">;</span><span class="o">)</span>Ljava/lang/reflect/Field<span class="p">;</span>
<span class="go">30: astore_2
31: aload_2
32: aload_1
</span><span class="gp">33: ldc           #</span>10                 // String Accessing the field using reflection
<span class="gp">35: invokevirtual #</span>11                 // Method java/lang/reflect/Field.set:<span class="o">(</span>Ljava/lang/Object<span class="p">;</span>Ljava/lang/Object<span class="p">;</span><span class="o">)</span>V
<span class="go">38: aload_1
</span><span class="gp">39: invokestatic  #</span>7                  // Method printFieldValue:<span class="o">(</span>Lquickhack/Main<span class="nv">$NestedClass</span><span class="p">;</span><span class="o">)</span>V
<span class="go">42: return
}
</span></code></pre></div></div><li><p>Java 11 Bytecode</p><div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>javap <span class="nt">-c</span> build/classes/java/main/quickhack/Main.class
<span class="go">  
Compiled from "Main.java"
public class quickhack.Main {
</span><span class="gp">  public quickhack.Main();</span><span class="w">
</span><span class="go">    Code:
       0: aload_0
</span><span class="gp">       1: invokespecial #</span>1                  // Method java/lang/Object.<span class="s2">"&lt;init&gt;"</span>:<span class="o">()</span>V
<span class="go">       4: return
  
</span><span class="gp">  public static void main(java.lang.String[]) throws java.lang.NoSuchFieldException, java.lang.IllegalAccessException;</span><span class="w">
</span><span class="go">    Code:
</span><span class="gp">       0: invokestatic  #</span>2                  // Method printJavaVersion:<span class="o">()</span>V
<span class="gp">       3: new           #</span>3                  // class quickhack/Main<span class="nv">$NestedClass</span>
<span class="go">       6: dup
</span><span class="gp">       7: invokespecial #</span>4                  // Method quickhack/Main<span class="nv">$NestedClass</span>.<span class="s2">"&lt;init&gt;"</span>:<span class="o">()</span>V
<span class="go">      10: astore_1
      11: aload_1
</span><span class="gp">      12: ldc           #</span>5                  // String Accessing the field directly
<span class="gp">      14: putfield      #</span>6                  // Field quickhack/Main<span class="nv">$NestedClass</span>.privateField:Ljava/lang/String<span class="p">;</span>
<span class="go">      17: aload_1
</span><span class="gp">      18: invokestatic  #</span>7                  // Method printFieldValue:<span class="o">(</span>Lquickhack/Main<span class="nv">$NestedClass</span><span class="p">;</span><span class="o">)</span>V
<span class="gp">      21: ldc           #</span>3                  // class quickhack/Main<span class="nv">$NestedClass</span>
<span class="gp">      23: ldc           #</span>8                  // String privateField
<span class="gp">      25: invokevirtual #</span>9                  // Method java/lang/Class.getDeclaredField:<span class="o">(</span>Ljava/lang/String<span class="p">;</span><span class="o">)</span>Ljava/lang/reflect/Field<span class="p">;</span>
<span class="go">      28: astore_2
      29: aload_2
      30: aload_1
</span><span class="gp">      31: ldc           #</span>10                 // String Accessing the field using reflection
<span class="gp">      33: invokevirtual #</span>11                 // Method java/lang/reflect/Field.set:<span class="o">(</span>Ljava/lang/Object<span class="p">;</span>Ljava/lang/Object<span class="p">;</span><span class="o">)</span>V
<span class="go">      36: aload_1
</span><span class="gp">      37: invokestatic  #</span>7                  // Method printFieldValue:<span class="o">(</span>Lquickhack/Main<span class="nv">$NestedClass</span><span class="p">;</span><span class="o">)</span>V
<span class="go">      40: return
}
</span></code></pre></div></div></ul><h2 id="versions"> <a href="#versions" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Versions</h2><ul><li><p>Java 8</p><div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>java <span class="nt">-version</span>
<span class="go">openjdk version "1.8.0_292"
OpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_292-b10)
OpenJDK 64-Bit Server VM (AdoptOpenJDK)(build 25.292-b10, mixed mode)
</span></code></pre></div></div><li><p>Java 11</p><div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>java <span class="nt">--version</span>
<span class="go">openjdk 11.0.10 2021-01-19
OpenJDK Runtime Environment AdoptOpenJDK (build 11.0.10+9)
OpenJDK 64-Bit Server VM AdoptOpenJDK (build 11.0.10+9, mixed mode)
</span></code></pre></div></div><li><p>Gradle</p><div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>./gradlew <span class="nt">--version</span>
<span class="go">
Gradle 7.0

Build time:   2021-04-09 22:27:31 UTC
Revision:     d5661e3f0e07a8caff705f1badf79fb5df8022c4

Kotlin:       1.4.31
Groovy:       3.0.7
Ant:          Apache Ant(TM) version 1.10.9 compiled on September 27 2020
JVM:          11.0.10 (AdoptOpenJDK 11.0.10+9)
OS:           Mac OS X 10.16 x86_64
</span></code></pre></div></div></ul><hr><footer role="contentinfo"><p class="text-small text-grey-dk-000 mb-0">Copyright &copy; Albert Attard. Distributed by an <a href="https://opensource.org/licenses/Apache-2.0">Apache License 2.0.</a></p></footer></div></div></div></div>
